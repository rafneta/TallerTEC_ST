<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #232629;
    color: #7a7c7d;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #7a7c7d;  padding-left: 4px; }
div.sourceCode
  { color: #cfcfc2; background-color: #232629; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #cfcfc2; } /* Normal */
code span.al { color: #95da4c; background-color: #4d1f24; font-weight: bold; } /* Alert */
code span.an { color: #3f8058; } /* Annotation */
code span.at { color: #2980b9; } /* Attribute */
code span.bn { color: #f67400; } /* BaseN */
code span.bu { color: #7f8c8d; } /* BuiltIn */
code span.cf { color: #fdbc4b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #3daee9; } /* Char */
code span.cn { color: #27aeae; font-weight: bold; } /* Constant */
code span.co { color: #7a7c7d; } /* Comment */
code span.cv { color: #7f8c8d; } /* CommentVar */
code span.do { color: #a43340; } /* Documentation */
code span.dt { color: #2980b9; } /* DataType */
code span.dv { color: #f67400; } /* DecVal */
code span.er { color: #da4453; text-decoration: underline; } /* Error */
code span.ex { color: #0099ff; font-weight: bold; } /* Extension */
code span.fl { color: #f67400; } /* Float */
code span.fu { color: #8e44ad; } /* Function */
code span.im { color: #27ae60; } /* Import */
code span.in { color: #c45b00; } /* Information */
code span.kw { color: #cfcfc2; font-weight: bold; } /* Keyword */
code span.op { color: #cfcfc2; } /* Operator */
code span.ot { color: #27ae60; } /* Other */
code span.pp { color: #27ae60; } /* Preprocessor */
code span.re { color: #2980b9; background-color: #153042; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #da4453; } /* SpecialString */
code span.st { color: #f44f4f; } /* String */
code span.va { color: #27aeae; } /* Variable */
code span.vs { color: #da4453; } /* VerbatimString */
code span.wa { color: #da4453; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Taller ST V-2022: Práctica: series de tiempo</title>

  <meta property="description" itemprop="description" content="Implementación en R"/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2022-08-01"/>
  <meta property="article:created" itemprop="dateCreated" content="2022-08-01"/>
  <meta name="article:author" content="Rafael Martínez Martínez"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Taller ST V-2022: Práctica: series de tiempo"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Implementación en R"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:site_name" content="Taller ST V-2022"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Taller ST V-2022: Práctica: series de tiempo"/>
  <meta property="twitter:description" content="Implementación en R"/>

  <!--/radix_placeholder_meta_tags-->
  
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","date","author","output","bibliography"]}},"value":[{"type":"character","attributes":{},"value":["Práctica: series de tiempo"]},{"type":"character","attributes":{},"value":["Implementación en R  \n"]},{"type":"character","attributes":{},"value":["August 1, 2022"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["first_name","last_name","url","affiliation","affiliation_url"]}},"value":[{"type":"character","attributes":{},"value":["Rafael"]},{"type":"character","attributes":{},"value":["Martínez Martínez"]},{"type":"character","attributes":{},"value":["https://rafneta.github.io/"]},{"type":"character","attributes":{},"value":["UPIITA-IPN"]},{"type":"character","attributes":{},"value":["https://www.upiita.ipn.mx/"]}]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["code_folding","toc","toc_float","highlight","highlight_downlit"]}},"value":[{"type":"NULL"},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["breezedark"]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["bibliografia.bib"]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  <!--radix_placeholder_navigation_in_header-->
  <meta name="distill:offset" content=""/>

  <script type="application/javascript">

    window.headroom_prevent_pin = false;

    window.document.addEventListener("DOMContentLoaded", function (event) {

      // initialize headroom for banner
      var header = $('header').get(0);
      var headerHeight = header.offsetHeight;
      var headroom = new Headroom(header, {
        tolerance: 5,
        onPin : function() {
          if (window.headroom_prevent_pin) {
            window.headroom_prevent_pin = false;
            headroom.unpin();
          }
        }
      });
      headroom.init();
      if(window.location.hash)
        headroom.unpin();
      $(header).addClass('headroom--transition');

      // offset scroll location for banner on hash change
      // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
      window.addEventListener("hashchange", function(event) {
        window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
      });

      // responsive menu
      $('.distill-site-header').each(function(i, val) {
        var topnav = $(this);
        var toggle = topnav.find('.nav-toggle');
        toggle.on('click', function() {
          topnav.toggleClass('responsive');
        });
      });

      // nav dropdowns
      $('.nav-dropbtn').click(function(e) {
        $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
        $(this).parent().siblings('.nav-dropdown')
           .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $("body").click(function(e){
        $('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $(".nav-dropdown").click(function(e){
        e.stopPropagation();
      });
    });
  </script>

  <style type="text/css">

  /* Theme (user-documented overrideables for nav appearance) */

  .distill-site-nav {
    color: rgba(255, 255, 255, 0.8);
    background-color: #0F2E3D;
    font-size: 15px;
    font-weight: 300;
  }

  .distill-site-nav a {
    color: inherit;
    text-decoration: none;
  }

  .distill-site-nav a:hover {
    color: white;
  }

  @media print {
    .distill-site-nav {
      display: none;
    }
  }

  .distill-site-header {

  }

  .distill-site-footer {

  }


  /* Site Header */

  .distill-site-header {
    width: 100%;
    box-sizing: border-box;
    z-index: 3;
  }

  .distill-site-header .nav-left {
    display: inline-block;
    margin-left: 8px;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header .nav-left {
      margin-left: 0;
    }
  }


  .distill-site-header .nav-right {
    float: right;
    margin-right: 8px;
  }

  .distill-site-header a,
  .distill-site-header .title {
    display: inline-block;
    text-align: center;
    padding: 14px 10px 14px 10px;
  }

  .distill-site-header .title {
    font-size: 18px;
    min-width: 150px;
  }

  .distill-site-header .logo {
    padding: 0;
  }

  .distill-site-header .logo img {
    display: none;
    max-height: 20px;
    width: auto;
    margin-bottom: -4px;
  }

  .distill-site-header .nav-image img {
    max-height: 18px;
    width: auto;
    display: inline-block;
    margin-bottom: -3px;
  }



  @media screen and (min-width: 1000px) {
    .distill-site-header .logo img {
      display: inline-block;
    }
    .distill-site-header .nav-left {
      margin-left: 20px;
    }
    .distill-site-header .nav-right {
      margin-right: 20px;
    }
    .distill-site-header .title {
      padding-left: 12px;
    }
  }


  .distill-site-header .nav-toggle {
    display: none;
  }

  .nav-dropdown {
    display: inline-block;
    position: relative;
  }

  .nav-dropdown .nav-dropbtn {
    border: none;
    outline: none;
    color: rgba(255, 255, 255, 0.8);
    padding: 16px 10px;
    background-color: transparent;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    margin: 0;
    margin-top: 1px;
    z-index: 2;
  }

  .nav-dropdown-content {
    display: none;
    position: absolute;
    background-color: white;
    min-width: 200px;
    border: 1px solid rgba(0,0,0,0.15);
    border-radius: 4px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
    z-index: 1;
    margin-top: 2px;
    white-space: nowrap;
    padding-top: 4px;
    padding-bottom: 4px;
  }

  .nav-dropdown-content hr {
    margin-top: 4px;
    margin-bottom: 4px;
    border: none;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .nav-dropdown-active {
    display: block;
  }

  .nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
    color: black;
    padding: 6px 24px;
    text-decoration: none;
    display: block;
    text-align: left;
  }

  .nav-dropdown-content .nav-dropdown-header {
    display: block;
    padding: 5px 24px;
    padding-bottom: 0;
    text-transform: uppercase;
    font-size: 14px;
    color: #999999;
    white-space: nowrap;
  }

  .nav-dropdown:hover .nav-dropbtn {
    color: white;
  }

  .nav-dropdown-content a:hover {
    background-color: #ddd;
    color: black;
  }

  .nav-right .nav-dropdown-content {
    margin-left: -45%;
    right: 0;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
    .distill-site-header a.nav-toggle {
      float: right;
      display: block;
    }
    .distill-site-header .title {
      margin-left: 0;
    }
    .distill-site-header .nav-right {
      margin-right: 0;
    }
    .distill-site-header {
      overflow: hidden;
    }
    .nav-right .nav-dropdown-content {
      margin-left: 0;
    }
  }


  @media screen and (max-width: 768px) {
    .distill-site-header.responsive {position: relative; min-height: 500px; }
    .distill-site-header.responsive a.nav-toggle {
      position: absolute;
      right: 0;
      top: 0;
    }
    .distill-site-header.responsive a,
    .distill-site-header.responsive .nav-dropdown {
      display: block;
      text-align: left;
    }
    .distill-site-header.responsive .nav-left,
    .distill-site-header.responsive .nav-right {
      width: 100%;
    }
    .distill-site-header.responsive .nav-dropdown {float: none;}
    .distill-site-header.responsive .nav-dropdown-content {position: relative;}
    .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
      display: block;
      width: 100%;
      text-align: left;
    }
  }

  /* Site Footer */

  .distill-site-footer {
    width: 100%;
    overflow: hidden;
    box-sizing: border-box;
    z-index: 3;
    margin-top: 30px;
    padding-top: 30px;
    padding-bottom: 30px;
    text-align: center;
  }

  /* Headroom */

  d-title {
    padding-top: 6rem;
  }

  @media print {
    d-title {
      padding-top: 4rem;
    }
  }

  .headroom {
    z-index: 1000;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
  }

  .headroom--transition {
    transition: all .4s ease-in-out;
  }

  .headroom--unpinned {
    top: -100px;
  }

  .headroom--pinned {
    top: 0;
  }

  /* adjust viewport for navbar height */
  /* helps vertically center bootstrap (non-distill) content */
  .min-vh-100 {
    min-height: calc(100vh - 100px) !important;
  }

  </style>

  <script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
  <link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
  <script src="site_libs/headroom-0.9.4/headroom.min.js"></script>
  <script src="site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
  <script src="site_libs/fuse-6.4.1/fuse.min.js"></script>

  <script type="application/javascript">

  function getMeta(metaName) {
    var metas = document.getElementsByTagName('meta');
    for (let i = 0; i < metas.length; i++) {
      if (metas[i].getAttribute('name') === metaName) {
        return metas[i].getAttribute('content');
      }
    }
    return '';
  }

  function offsetURL(url) {
    var offset = getMeta('distill:offset');
    return offset ? offset + '/' + url : url;
  }

  function createFuseIndex() {

    // create fuse index
    var options = {
      keys: [
        { name: 'title', weight: 20 },
        { name: 'categories', weight: 15 },
        { name: 'description', weight: 10 },
        { name: 'contents', weight: 5 },
      ],
      ignoreLocation: true,
      threshold: 0
    };
    var fuse = new window.Fuse([], options);

    // fetch the main search.json
    return fetch(offsetURL('search.json'))
      .then(function(response) {
        if (response.status == 200) {
          return response.json().then(function(json) {
            // index main articles
            json.articles.forEach(function(article) {
              fuse.add(article);
            });
            // download collections and index their articles
            return Promise.all(json.collections.map(function(collection) {
              return fetch(offsetURL(collection)).then(function(response) {
                if (response.status === 200) {
                  return response.json().then(function(articles) {
                    articles.forEach(function(article) {
                      fuse.add(article);
                    });
                  })
                } else {
                  return Promise.reject(
                    new Error('Unexpected status from search index request: ' +
                              response.status)
                  );
                }
              });
            })).then(function() {
              return fuse;
            });
          });

        } else {
          return Promise.reject(
            new Error('Unexpected status from search index request: ' +
                        response.status)
          );
        }
      });
  }

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // get search element (bail if we don't have one)
    var searchEl = window.document.getElementById('distill-search');
    if (!searchEl)
      return;

    createFuseIndex()
      .then(function(fuse) {

        // make search box visible
        searchEl.classList.remove('hidden');

        // initialize autocomplete
        var options = {
          autoselect: true,
          hint: false,
          minLength: 2,
        };
        window.autocomplete(searchEl, options, [{
          source: function(query, callback) {
            const searchOptions = {
              isCaseSensitive: false,
              shouldSort: true,
              minMatchCharLength: 2,
              limit: 10,
            };
            var results = fuse.search(query, searchOptions);
            callback(results
              .map(function(result) { return result.item; })
            );
          },
          templates: {
            suggestion: function(suggestion) {
              var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
                ? `<img src="${offsetURL(suggestion.preview)}"</img>`
                : '';
              var html = `
                <div class="search-item">
                  <h3>${suggestion.title}</h3>
                  <div class="search-item-description">
                    ${suggestion.description || ''}
                  </div>
                  <div class="search-item-preview">
                    ${img}
                  </div>
                </div>
              `;
              return html;
            }
          }
        }]).on('autocomplete:selected', function(event, suggestion) {
          window.location.href = offsetURL(suggestion.path);
        });
        // remove inline display style on autocompleter (we want to
        // manage responsive display via css)
        $('.algolia-autocomplete').css("display", "");
      })
      .catch(function(error) {
        console.log(error);
      });

  });

  </script>

  <style type="text/css">

  .nav-search {
    font-size: x-small;
  }

  /* Algolioa Autocomplete */

  .algolia-autocomplete {
    display: inline-block;
    margin-left: 10px;
    vertical-align: sub;
    background-color: white;
    color: black;
    padding: 6px;
    padding-top: 8px;
    padding-bottom: 0;
    border-radius: 6px;
    border: 1px #0F2E3D solid;
    width: 180px;
  }


  @media screen and (max-width: 768px) {
    .distill-site-nav .algolia-autocomplete {
      display: none;
      visibility: hidden;
    }
    .distill-site-nav.responsive .algolia-autocomplete {
      display: inline-block;
      visibility: visible;
    }
    .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
      margin-left: 0;
      width: 400px;
      max-height: 400px;
    }
  }

  .algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
    width: 90%;
    outline: none;
    border: none;
  }

  .algolia-autocomplete .aa-hint {
    color: #999;
  }
  .algolia-autocomplete .aa-dropdown-menu {
    width: 550px;
    max-height: 70vh;
    overflow-x: visible;
    overflow-y: scroll;
    padding: 5px;
    margin-top: 3px;
    margin-left: -150px;
    background-color: #fff;
    border-radius: 5px;
    border: 1px solid #999;
    border-top: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
    cursor: pointer;
    padding: 5px 4px;
    border-bottom: 1px solid #eee;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
    border-bottom: none;
    margin-bottom: 2px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
    overflow: hidden;
    font-size: 0.8em;
    line-height: 1.4em;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
    font-size: 1rem;
    margin-block-start: 0;
    margin-block-end: 5px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
    display: inline-block;
    overflow: hidden;
    height: 2.8em;
    width: 80%;
    margin-right: 4%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
    display: inline-block;
    width: 15%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
    height: 3em;
    width: auto;
    display: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
    display: initial;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
    background-color: #eee;
  }
  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
    font-weight: bold;
    font-style: normal;
  }

  </style>


  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        if ($(this).children()[0].nodeName == "D-FOOTNOTE") {
          var fn = $(this).children()[0]
          $(this).html(fn.shadowRoot.querySelector("sup"))
          $(this).id = fn.id
          fn.remove()
        }
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          return "<p>" + $('#ref-' + ref).html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // fix footnotes in tables (#411)
      // replacing broken distill.pub feature
      $('table d-footnote').each(function() {
        // we replace internal showAtNode methode which is triggered when hovering a footnote
        this.hoverBox.showAtNode = function(node) {
          // ported from https://github.com/distillpub/template/pull/105/files
          calcOffset = function(elem) {
              let x = elem.offsetLeft;
              let y = elem.offsetTop;
              // Traverse upwards until an `absolute` element is found or `elem`
              // becomes null.
              while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                  x += elem.offsetLeft;
                  y += elem.offsetTop;
              }

              return { left: x, top: y };
          }
          // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
          const bbox = node.getBoundingClientRect();
          const offset = calcOffset(node);
          this.show([offset.left + bbox.width, offset.top + bbox.height]);
        }
      })

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      // ignore leaflet img layers (#106)
      figures = figures.filter(':not(img[class*="leaflet"])')
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
  <script src="site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <style type="text/css">
  .distill-site-nav {
      color: rgba(255,255,255,1);
      background-color: rgba(0,57,166,0.95);
      font-size: 15px;
      font-weight: 300;
    }

  h1{
      color: rgba(0,57,166,0.9);
  }

  h2{
      color: rgba(0,57,166,0.9);
  }

  h2{
      color: rgba(0,57,166,0.9);
  }

  #pregunta {
        margin-top: 10px;
      margin-bottom: 10px;
     background-color: rgba(112,115,114,0.2);
     /*color: rgba(255,255,255,0.9);
     background-color: #5c7884;*/
     padding: 10px 10px 10px 10px;
     text-align: justify;
  }

  #inciso {
     margin-top: 10px;
    background-color: #f1f3f4;
     /*color: rgba(255,255,255,0.9);
     background-color: #87a0ab;*/
     padding: 10px 10px 10px 10px;
     text-align: justify;
     margin-bottom: 10px;
  }

  #justificar{
     margin-top: 10px;
      margin-bottom: 10px;
     text-align: justify;
  }

  #colpre {
    color: #5c7884;
  }

  #colin {
    color: #87a0ab;
  }

  #guinda{
     color: rgba(0,57,166,0.9);
  }

  .guinda{
     color: rgba(0,57,166,0.9);
  }

  tbody tr:nth-child(odd) {
    background-color: rgba(0,57,166,0.2);
  }

  tbody tr:nth-child(even) {
    background-color: rgb(255,255,255);
  }



  d-article a:link {
   color: rgba(0,74,151,0.5) !important;
  }

  d-article  li a:link {
   color: rgba(0,74,151,0.5);
  }

  d-article.d-article-with-toc a:link {
   color: rgba(0,74,151,0.5) !important;
  }

  d-article  li p a:link {
   color: rgba(0,74,151,0.5);
  }

  d-article   p a:link {
   color: rgba(0,74,151,0.5);
  }

  d-article p a:link {
   color: rgba(0,74,151,0.5);
  }

   p  a {
   color: rgba(0,74,151,0.5);
  }

   td  a {
   color: rgba(0,74,151,0.5);
  }

  td {
    color: rgba(125,127,129,1);
  }

  thead {
    color: rgba(125,127,129,1);
  }

  p {
    
    color: rgba(125,127,129,1);
  }

  li {
    
    color: rgba(125,127,129,1);
  }


  .def {	
      border-style:solid;
      border-width:4px;
      /*-webkit-border-radius:15px;*/
      border-radius: 1em;
      border-color:rgba(0,57,166,0.95);/**  #366272;#CD853F;/**rgba(112, 156, 169, 0.66);*/
      /*background: #366272;rgba(54, 98, 114, 0.9);/*#366272;*/
  	/*border-top-left-radius:10%;*/
  	color:black;
  	font-size: 1em;
  	/*box-shadow: 10px 10px 10px #2178a3;*/
  	/*overflow:scroll;*/
  	padding: 2% 4% 2% 4%;
  	box-sizing: border-box;
  	width:80%;
      margin-left:auto;
      margin-right:auto;
      margin-bottom:2%;
      margin-top:2%; 
      font-size: 1.0em;
  	line-height: 1.6;
  	font-weight: 300;
      background:rgba(0,57,166,0.1);/*1(0.40000000596046448, 0.7607843279838562, 0.64705884456634521)*/
  }


  .teo {	
      border-style:solid;
      border-width:4px;
      /*-webkit-border-radius:15px;*/
  	border-radius: 1em;
      border-color:rgba(0,57,166,0.95);/**  #366272;#CD853F;/**rgba(112, 156, 169, 0.66);*/
      /*background: #366272;rgba(54, 98, 114, 0.9);/*#366272;*/
  	/*border-top-left-radius:10%;*/
  	color:black;
  	font-size: 1em;
  	/*box-shadow: 10px 10px 10px #2178a3;*/
  	/*overflow:scroll;*/
  	padding: 2% 4% 2% 4%;
  	box-sizing: border-box;
  	width:80%;
      margin-left:auto;
      margin-right:auto;
      margin-bottom:2%;
      margin-top:2%; 
      font-size: 1.0em;
  	line-height: 1.6;
  	font-weight: 300;
      background:rgba(0,57,166,0.1);;/*1(0.40000000596046448, 0.7607843279838562, 0.64705884456634521)*/
  }

  .act {	
      border-style:solid;
      border-width:4px;
      /*-webkit-border-radius:15px;*/
  	border-radius: 1em;
      border-color:rgba(0,57,166,0.95);/**  #366272;#CD853F;/**rgba(112, 156, 169, 0.66);*/
      /*background: #366272;rgba(54, 98, 114, 0.9);/*#366272;*/
  	/*border-top-left-radius:10%;*/
  	color:black;
  	font-size: 1em;
  	/*box-shadow: 10px 10px 10px #2178a3;*/
  	/*overflow:scroll;*/
  	padding: 2% 4% 2% 4%;
  	box-sizing: border-box;
      margin-left:auto;
      margin-right:auto;
      margin-bottom:2%;
      margin-top:2%; 
      font-size: 1.0em;
  	line-height: 1.6;
  	font-weight: 300;
      background:rgba(0,57,166,0.1);/*1(0.40000000596046448, 0.7607843279838562, 0.64705884456634521)*/
  }

  d-article code.sourceCode.r{
    overflow: scroll;
  }

  d-article code.sourceCode{
    overflow: scroll;
  }

  d-article pre{
    overflow: scroll;
  }

  d-article div.sourceCodecode{
    overflow: scroll;
  }
  </style>
  <!--/radix_placeholder_site_in_header-->

  <link rel="stylesheet" href="estilo.css" type="text/css"/>

</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Práctica: series de tiempo","description":"Implementación en R","authors":[{"author":"Rafael Martínez Martínez","authorURL":"https://rafneta.github.io/","affiliation":"UPIITA-IPN","affiliationURL":"https://www.upiita.ipn.mx/","orcidID":""}],"publishedDate":"2022-08-01T00:00:00.000-05:00","citationText":"Martínez Martínez, 2022"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a class="logo">
<img src="imagenes/logoblanco.png" alt="Logo"/>
</a>
<a href="index.html" class="title">Taller ST V-2022</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<div class="nav-dropdown">
<button class="nav-dropbtn">
Clases
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<hr/>
<span class="nav-dropdown-header">Series de tiempo</span>
<a href="PSeriesTiempo.html">Práctica: Series de tiempo</a>
<a href="TSeriesTiempo.html">Teoría: Series de tiempo</a>
</div>
</div>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Actividades
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="ActividadST_0.html">Actividad 0</a>
<a href="ActividadST_01.html">Actividad 0.1</a>
<hr/>
<span class="nav-dropdown-header">Series de tiempo</span>
<a href="ActividadST_1.html">Actividad 1</a>
<a href="ActividadST_2.html">Actividad 2</a>
<a href="ActividadST_3.html">Actividad 3</a>
<a href="ActividadST_4.html">Actividad 4</a>
<a href="ActividadST_5.html">Actividad 5</a>
<a href="ActividadST_5.html">Actividad 6</a>
</div>
</div>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Estadística
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="DefinicionesEsta.html">Definiciones Básicas</a>
<a href="Distribuciones.html">Distribuciones</a>
</div>
</div>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Apéndices
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="IntroR.html">Introdución a R</a>
<hr/>
<span class="nav-dropdown-header">Formularios</span>
<a href="imagenes/base-r.pdf">R básico</a>
<a href="imagenes/rmarkdown.pdf">rmarkdown</a>
<a href="imagenes/rstudio-ide.pdf">RStudio</a>
<hr/>
<span class="nav-dropdown-header">Libros</span>
<a href="https://rstudio-education.github.io/hopr/">Hands-On Programing with R</a>
<a href="https://r4ds.had.co.nz/index.html">R for Data Science</a>
<a href="https://moderndive.com/index.html">Statistical Inference via Data Science</a>
<a href="https://otexts.com/fpp2/">Forecasting: Principles and Practice</a>
<a href="https://www.econometrics-with-r.org/">Introduction to econometrics with R</a>
<hr/>
<a href="Datos.html">Datos</a>
<hr/>
<a href="Enlaces.html">Más enlaces</a>
</div>
</div>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Práctica: series de tiempo</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>Implementación en R</p></p>
</div>

<div class="d-byline">
  
  true
  
<br/>August 1, 2022
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#series-de-tiempo-práctica"
id="toc-series-de-tiempo-práctica">Series de tiempo, práctica</a></li>
<li><a href="#manipulación-y-gráficas-de-series-de-tiempo"
id="toc-manipulación-y-gráficas-de-series-de-tiempo">Manipulación y
gráficas de series de tiempo</a></li>
<li><a href="#operaciones-en-st" id="toc-operaciones-en-st">Operaciones
en ST</a>
<ul>
<li><a href="#operación-lag" id="toc-operación-lag">Operación
lag</a></li>
<li><a href="#operación-diff" id="toc-operación-diff">Operación
diff</a></li>
<li><a href="#aplicación-de-funciones"
id="toc-aplicación-de-funciones">Aplicación de funciones</a></li>
<li><a href="#operacion-por-fechas"
id="toc-operacion-por-fechas">Operacion por fechas</a></li>
</ul></li>
</ul>
</nav>
</div>
<p>Antes de comenzar con series de tiempo, vamos a familiarizarnos con
los documentos de R. En particular nos enfocamos en los
<em>archivos.Rmd</em> que se pueden pensar como los <strong>notebooks de
R</strong> (notebooks en Python, livescrips en MATLAB, etc.). Por tu
cuenta puedes revisar los scripts, <em>archivos.R</em></p>
<p>Si vas a trabajar de forma especifica</p>
<pre><code>File &gt;&gt; New Project</code></pre>
<p>Pero no es necesaria. Creamos un archivo nuevo</p>
<pre><code>File &gt;&gt; New FILE &gt;&gt; R Markdown</code></pre>
<p>Para este taller preferimos los documentos <em>html</em>. La
funcionalidad se puede consultar en el formulario <em>Apéndices &gt;&gt;
Formularios &gt;&gt; rmarkdown</em>:</p>
<ul>
<li>Configurar documento</li>
<li>Insertar matemáticas</li>
<li>Editar documentos</li>
<li>…</li>
</ul>
<p>No se debe pensar que en el formulario se encuentran todas las
posibilidades de los documentos _*.Rmd_, por ejemplo, el siguiente
código es una forma alternativa de insertar imágenes</p>
<pre><code>```{r}
knitr::include_graphics(&quot;imagenes/tablaacf.png&quot;)
```</code></pre>
<p>En <em>Más enlaces</em> del apéndice se pueden encontrar documentos
dedicadosa <em>Rmarkdonw</em>.</p>
<p>Existen paquetes especializados que extienden el funcionamiento de
los archivos _*.Rmd_, cada uno sigue su sintaxis y especificaciones. Por
ejemplo, este sitio se creo con el paquete <a
href="https://rstudio.github.io/distill/">distill</a></p>
<p>Como ejemplo se puede descargar el <a
href="https://drive.google.com/file/d/1Na8jVAib3TSTIzbUrOvttTqxzwYnsIiU/view?usp=sharing">archivo
<em>Rmd</em> de la Actividad 0</a>, para ver un ejemplo de uso.</p>
<div class="act">
<p><strong>Actividad 1, Problemas 1 y 2</strong></p>
</div>
<h1 id="series-de-tiempo-práctica">Series de tiempo, práctica</h1>
<p>Es suficiente pensar (por el momento) a una serie de tiempo (ST) como
mediciones (contradominio) de una variable conforme transcurre el tiempo
(dominio)</p>
<p>En el paquete <em>datasets</em> se encuentra el conjunto de datos
<strong>AirPassengers</strong>. Investiga de que trata este conjunto</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='op'>?</span><span class='va'>AirPassengers</span> </span></code></pre>
</div>
</div>
<p>Cargamos el conjunto de datos.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>AirPassengers</span><span class='op'>)</span></span>
<span><span class='va'>AP</span> <span class='op'>&lt;-</span> <span class='va'>AirPassengers</span></span>
<span><span class='va'>AP</span></span></code></pre>
</div>
<pre><code>     Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec
1949 112 118 132 129 121 135 148 148 136 119 104 118
1950 115 126 141 135 125 149 170 170 158 133 114 140
1951 145 150 178 163 172 178 199 199 184 162 146 166
1952 171 180 193 181 183 218 230 242 209 191 172 194
1953 196 196 236 235 229 243 264 272 237 211 180 201
1954 204 188 235 227 234 264 302 293 259 229 203 229
1955 242 233 267 269 270 315 364 347 312 274 237 278
1956 284 277 317 313 318 374 413 405 355 306 271 306
1957 315 301 356 348 355 422 465 467 404 347 305 336
1958 340 318 362 348 363 435 491 505 404 359 310 337
1959 360 342 406 396 420 472 548 559 463 407 362 405
1960 417 391 419 461 472 535 622 606 508 461 390 432</code></pre>
</div>
<p>Vemos con que tipo de variable trabajamos</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/class.html'>class</a></span><span class='op'>(</span><span class='va'>AP</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] &quot;ts&quot;</code></pre>
</div>
<p>Esto siempre es una buena práctica, para saber que podemos o no
hacer.</p>
<p>Si se consulta la ayuda de <em>ts</em>, se puede encontrar la
siguiente referencia (<a
href="https://cran.r-project.org/web/views/">CRAN task view</a>) sobre
<a href="https://cran.r-project.org/web/views/TimeSeries.html">Series de
tiempo en R</a></p>
<p>Para ver el contenido del paquete <em>stats</em> (Help &gt;&gt; home
&gt;&gt; packages). Esta biblioteca nos importa porque una de sus
funciones es <em>ts</em>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span>help <span class='op'>=</span> <span class='st'>"stats"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Ahí se puede investigar sobre todas las funciones.</p>
<p>La gráfica matemática de la variable <strong>AP</strong> sería.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>AP</span>, ylab <span class='op'>=</span> <span class='st'>"Pasajeros (miles)"</span>, type <span class='op'>=</span> <span class='st'>"p"</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="PSeriesTiempo_files/figure-html5/plotAP-1.png" width="624" /></p>
</div>
<p>La gráfica en series de tiempo se acostumbra como</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>AP</span>, ylab <span class='op'>=</span> <span class='st'>"Pasajeros (miles)"</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="PSeriesTiempo_files/figure-html5/plotAPserie-1.png" width="624" /></p>
</div>
<div class="act">
<p><strong>Actividad 1, Problema 3 y 4</strong></p>
</div>
<p>Se pueden identificar algunas componentes en una serie de tiempo</p>
<ul>
<li>Tendencia (Trend). Un cambio sistemático que no aparece
periódico</li>
<li>Estacionalidad (Season). Un patrón repetido (depende de la unidad,
podría ser anual)</li>
<li>Ciclos (cycles). Repeticiones que no corresponden a algo fijo</li>
<li>Aleatoriedad (stochastic). Cambios aleatorios</li>
<li>Valores atípicos (Outliers). Mediciones muy alejadas del
promedio</li>
<li>Valores erróneos. Datos no disponibles, valores mal registrados,
etc.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/aggregate.html'>aggregate</a></span><span class='op'>(</span><span class='va'>AP</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<img src="PSeriesTiempo_files/figure-html5/plotagregadsi-1.png" width="624" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/graphics/boxplot.html'>boxplot</a></span><span class='op'>(</span><span class='va'>AP</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/stats/time.html'>cycle</a></span><span class='op'>(</span><span class='va'>AP</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="PSeriesTiempo_files/figure-html5/plotagregadsi-2.png" width="624" /></p>
</div>
<div class="act">
<p><strong>Actividad 2</strong></p>
</div>
<h1 id="manipulación-y-gráficas-de-series-de-tiempo">Manipulación y
gráficas de series de tiempo</h1>
<div class="act">
<p><strong>Teoría: Funciones en tiempo discreto</strong></p>
</div>
<div class="act">
<p><strong>Actividad 3</strong></p>
</div>
<p>Es importante distinguir la implemetación computacional (por ejemplo
los elementos <em>ts</em>) respecto de la abstracción matemática
(funciones en tiempo discreto).</p>
<p>En R por lo menos se tienen ocho maneras de representar series de
tiempo, dos de las formas más utilizadas son las implementadas en los
paquetes: <em>xts</em> y <em>zoo</em>, con las siguientes instrucciones
se pueden consultar sus <a
href="https://r-pkgs.org/vignettes.html">viñetas</a></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/utils/vignette.html'>vignette</a></span><span class='op'>(</span><span class='st'>"zoo"</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/utils/vignette.html'>vignette</a></span><span class='op'>(</span><span class='st'>"xts"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Casi todo lo que se puede hacer con <em>zoo</em> se puede hacer con
<em>xts</em>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://zoo.R-Forge.R-project.org/'>zoo</a></span><span class='op'>)</span></span></code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>precios</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>132.45</span>, <span class='fl'>130.85</span>, <span class='fl'>130.00</span>, <span class='fl'>129.55</span>, <span class='fl'>130.85</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># los primeros 5 mediciones de enero</span></span>
<span><span class='va'>fechas</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/zoo/man/yearmon.html'>as.Date</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>  <span class='st'>"2010-01-04"</span>, <span class='st'>"2010-01-05"</span>, <span class='st'>"2010-01-06"</span>,</span>
<span>  <span class='st'>"2010-01-07"</span>, <span class='st'>"2010-01-08"</span></span>
<span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>stp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/zoo/man/zoo.html'>zoo</a></span><span class='op'>(</span><span class='va'>precios</span>, <span class='va'>fechas</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>stp</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>2010-01-04 2010-01-05 2010-01-06 2010-01-07 2010-01-08 
    132.45     130.85     130.00     129.55     130.85 </code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>stp</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="PSeriesTiempo_files/figure-html5/plotzoo-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/zoo/man/coredata.html'>coredata</a></span><span class='op'>(</span><span class='va'>stp</span><span class='op'>)</span> <span class='co'># valores </span></span></code></pre>
</div>
<pre><code>[1] 132.45 130.85 130.00 129.55 130.85</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/zoo/man/index.html'>index</a></span><span class='op'>(</span><span class='va'>stp</span><span class='op'>)</span> <span class='co'># fechas</span></span></code></pre>
</div>
<pre><code>[1] &quot;2010-01-04&quot; &quot;2010-01-05&quot; &quot;2010-01-06&quot; &quot;2010-01-07&quot; &quot;2010-01-08&quot;</code></pre>
</div>
<p>¿Cuál es la descripción del paquete <em>quantmod</em>?</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://www.quantmod.com'>quantmod</a></span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Se consultan los precios de las acciones de Apple del 2015 al
2020</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/quantmod/man/getSymbols.html'>getSymbols</a></span><span class='op'>(</span><span class='st'>"AAPL"</span>, src <span class='op'>=</span> <span class='st'>"yahoo"</span>, from <span class='op'>=</span> <span class='st'>'2015-01-01'</span>,</span>
<span>           to <span class='op'>=</span> <span class='st'>"2020-12-31"</span>,warnings <span class='op'>=</span> <span class='cn'>FALSE</span>,</span>
<span>           auto.assign <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] &quot;AAPL&quot;</code></pre>
</div>
<p>los primeros elementos</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/class.html'>class</a></span><span class='op'>(</span><span class='va'>AAPL</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[1] &quot;xts&quot; &quot;zoo&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>AAPL</span><span class='op'>)</span> </span></code></pre>
</div>
<pre><code>           AAPL.Open AAPL.High AAPL.Low AAPL.Close AAPL.Volume
2015-01-02   27.8475   27.8600  26.8375    27.3325   212818400
2015-01-05   27.0725   27.1625  26.3525    26.5625   257142000
2015-01-06   26.6350   26.8575  26.1575    26.5650   263188400
2015-01-07   26.8000   27.0500  26.6750    26.9375   160423600
2015-01-08   27.3075   28.0375  27.1750    27.9725   237458000
2015-01-09   28.1675   28.3125  27.5525    28.0025   214798000
           AAPL.Adjusted
2015-01-02      24.67825
2015-01-05      23.98303
2015-01-06      23.98528
2015-01-07      24.32161
2015-01-08      25.25610
2015-01-09      25.28318</code></pre>
</div>
<p>los últimos elementos</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>apple</span> <span class='op'>&lt;-</span> <span class='va'>AAPL</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>tail</a></span><span class='op'>(</span><span class='va'>apple</span><span class='op'>)</span> </span></code></pre>
</div>
<pre><code>           AAPL.Open AAPL.High AAPL.Low AAPL.Close AAPL.Volume
2020-12-22    131.61    134.41   129.65     131.88   168904800
2020-12-23    132.16    132.43   130.78     130.96    88223700
2020-12-24    131.32    133.46   131.10     131.97    54930100
2020-12-28    133.99    137.34   133.51     136.69   124486200
2020-12-29    138.05    138.79   134.34     134.87   121047300
2020-12-30    135.58    135.99   133.40     133.72    96452100
           AAPL.Adjusted
2020-12-22      130.7131
2020-12-23      129.8013
2020-12-24      130.8023
2020-12-28      135.4806
2020-12-29      133.6767
2020-12-30      132.5368</code></pre>
</div>
<p>Las primeras dos semanas (revisa el calendario de 2015)</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/xts/man/first.html'>first</a></span><span class='op'>(</span><span class='va'>apple</span>, <span class='st'>"2 weeks"</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>           AAPL.Open AAPL.High AAPL.Low AAPL.Close AAPL.Volume
2015-01-02   27.8475   27.8600  26.8375    27.3325   212818400
2015-01-05   27.0725   27.1625  26.3525    26.5625   257142000
2015-01-06   26.6350   26.8575  26.1575    26.5650   263188400
2015-01-07   26.8000   27.0500  26.6750    26.9375   160423600
2015-01-08   27.3075   28.0375  27.1750    27.9725   237458000
2015-01-09   28.1675   28.3125  27.5525    28.0025   214798000
           AAPL.Adjusted
2015-01-02      24.67825
2015-01-05      23.98303
2015-01-06      23.98528
2015-01-07      24.32161
2015-01-08      25.25610
2015-01-09      25.28318</code></pre>
</div>
<p>el último mes</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/xts/man/first.html'>last</a></span><span class='op'>(</span><span class='va'>apple</span>, <span class='st'>"month"</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>           AAPL.Open AAPL.High AAPL.Low AAPL.Close AAPL.Volume
2020-12-01    121.01    123.47   120.01     122.72   127728200
2020-12-02    122.02    123.37   120.89     123.08    89004200
2020-12-03    123.52    123.78   122.21     122.94    78967600
2020-12-04    122.60    122.86   121.52     122.25    78260400
2020-12-07    122.31    124.57   122.25     123.75    86712000
2020-12-08    124.37    124.98   123.09     124.38    82225500
2020-12-09    124.53    125.95   121.00     121.78   115089200
2020-12-10    120.50    123.87   120.15     123.24    81312200
2020-12-11    122.43    122.76   120.55     122.41    86939800
2020-12-14    122.60    123.35   121.54     121.78    79184500
2020-12-15    124.34    127.90   124.13     127.88   157243700
2020-12-16    127.41    128.37   126.56     127.81    98208600
2020-12-17    128.90    129.58   128.04     128.70    94359800
2020-12-18    128.96    129.10   126.12     126.66   192541500
2020-12-21    125.02    128.31   123.45     128.23   121251600
2020-12-22    131.61    134.41   129.65     131.88   168904800
2020-12-23    132.16    132.43   130.78     130.96    88223700
2020-12-24    131.32    133.46   131.10     131.97    54930100
2020-12-28    133.99    137.34   133.51     136.69   124486200
2020-12-29    138.05    138.79   134.34     134.87   121047300
2020-12-30    135.58    135.99   133.40     133.72    96452100
           AAPL.Adjusted
2020-12-01      121.6342
2020-12-02      121.9910
2020-12-03      121.8522
2020-12-04      121.1683
2020-12-07      122.6551
2020-12-08      123.2795
2020-12-09      120.7025
2020-12-10      122.1496
2020-12-11      121.3269
2020-12-14      120.7025
2020-12-15      126.7485
2020-12-16      126.6792
2020-12-17      127.5613
2020-12-18      125.5393
2020-12-21      127.0954
2020-12-22      130.7131
2020-12-23      129.8013
2020-12-24      130.8023
2020-12-28      135.4806
2020-12-29      133.6767
2020-12-30      132.5368</code></pre>
</div>
<p>Obtener elementos específicos</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>apple</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>)</span> <span class='co'># Segundo elemento</span></span></code></pre>
</div>
<pre><code>           AAPL.Open AAPL.High AAPL.Low AAPL.Close AAPL.Volume
2015-01-05   27.0725   27.1625  26.3525    26.5625   257142000
           AAPL.Adjusted
2015-01-05      23.98303</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>apple</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>4</span><span class='op'>]</span><span class='op'>)</span> <span class='co'># Del segundo al cuarto</span></span></code></pre>
</div>
<pre><code>           AAPL.Open AAPL.High AAPL.Low AAPL.Close AAPL.Volume
2015-01-05   27.0725   27.1625  26.3525    26.5625   257142000
2015-01-06   26.6350   26.8575  26.1575    26.5650   263188400
2015-01-07   26.8000   27.0500  26.6750    26.9375   160423600
           AAPL.Adjusted
2015-01-05      23.98303
2015-01-06      23.98528
2015-01-07      24.32161</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>fechas</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/zoo/man/yearmon.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2015-01-04"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/pkg/zoo/man/yearmon.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2015-01-30"</span><span class='op'>)</span>, by <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span></span>
<span><span class='va'>apple</span><span class='op'>[</span><span class='va'>fechas</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>           AAPL.Open AAPL.High AAPL.Low AAPL.Close AAPL.Volume
2015-01-06   26.6350   26.8575  26.1575    26.5650   263188400
2015-01-08   27.3075   28.0375  27.1750    27.9725   237458000
2015-01-12   28.1500   28.1575  27.2000    27.3125   198603200
2015-01-14   27.2600   27.6225  27.1250    27.4500   195826400
2015-01-16   26.7575   26.8950  26.3000    26.4975   314053200
2015-01-20   26.9600   27.2425  26.6250    27.1800   199599600
2015-01-22   27.5650   28.1175  27.4300    28.1000   215185600
2015-01-26   28.4350   28.5900  28.2000    28.2750   222460000
2015-01-28   29.4075   29.5300  28.8275    28.8275   585908400
2015-01-30   29.6000   30.0000  29.2125    29.2900   334982000
           AAPL.Adjusted
2015-01-06      23.98528
2015-01-08      25.25610
2015-01-12      24.66019
2015-01-14      24.78434
2015-01-16      23.92434
2015-01-20      24.54056
2015-01-22      25.37122
2015-01-26      25.52922
2015-01-28      26.02807
2015-01-30      26.44565</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>apple</span><span class='op'>[</span><span class='st'>'201501'</span><span class='op'>]</span><span class='op'>)</span>  <span class='co'># enero 2015</span></span></code></pre>
</div>
<pre><code>           AAPL.Open AAPL.High AAPL.Low AAPL.Close AAPL.Volume
2015-01-02   27.8475   27.8600  26.8375    27.3325   212818400
2015-01-05   27.0725   27.1625  26.3525    26.5625   257142000
2015-01-06   26.6350   26.8575  26.1575    26.5650   263188400
2015-01-07   26.8000   27.0500  26.6750    26.9375   160423600
2015-01-08   27.3075   28.0375  27.1750    27.9725   237458000
2015-01-09   28.1675   28.3125  27.5525    28.0025   214798000
2015-01-12   28.1500   28.1575  27.2000    27.3125   198603200
2015-01-13   27.8575   28.2000  27.2275    27.5550   268367600
2015-01-14   27.2600   27.6225  27.1250    27.4500   195826400
2015-01-15   27.5000   27.5150  26.6650    26.7050   240056000
2015-01-16   26.7575   26.8950  26.3000    26.4975   314053200
2015-01-20   26.9600   27.2425  26.6250    27.1800   199599600
2015-01-21   27.2375   27.7650  27.0675    27.3875   194303600
2015-01-22   27.5650   28.1175  27.4300    28.1000   215185600
2015-01-23   28.0750   28.4375  27.8825    28.2450   185859200
2015-01-26   28.4350   28.5900  28.2000    28.2750   222460000
2015-01-27   28.1050   28.1200  27.2575    27.2850   382274800
2015-01-28   29.4075   29.5300  28.8275    28.8275   585908400
2015-01-29   29.0800   29.7975  28.8900    29.7250   337745600
2015-01-30   29.6000   30.0000  29.2125    29.2900   334982000
           AAPL.Adjusted
2015-01-02      24.67825
2015-01-05      23.98303
2015-01-06      23.98528
2015-01-07      24.32161
2015-01-08      25.25610
2015-01-09      25.28318
2015-01-12      24.66019
2015-01-13      24.87915
2015-01-14      24.78434
2015-01-15      24.11169
2015-01-16      23.92434
2015-01-20      24.54056
2015-01-21      24.72790
2015-01-22      25.37122
2015-01-23      25.50214
2015-01-26      25.52922
2015-01-27      24.63536
2015-01-28      26.02807
2015-01-29      26.83842
2015-01-30      26.44565</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>apple</span><span class='op'>[</span><span class='st'>'20160201/20160213'</span><span class='op'>]</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>           AAPL.Open AAPL.High AAPL.Low AAPL.Close AAPL.Volume
2016-02-01   24.1175   24.1775  23.8500    24.1075   163774000
2016-02-02   23.8550   24.0100  23.5700    23.6200   149428800
2016-02-03   23.7500   24.2100  23.5200    24.0875   183857200
2016-02-04   23.9650   24.3325  23.7975    24.1500   185886800
2016-02-05   24.1300   24.2300  23.4225    23.5050   185672400
2016-02-08   23.2825   23.9250  23.2600    23.7525   216085600
2016-02-09   23.5725   23.9850  23.4825    23.7475   177324800
2016-02-10   23.9800   24.0875  23.5250    23.5675   169374400
2016-02-11   23.4475   23.6800  23.1475    23.4250   200298800
2016-02-12   23.5475   23.6250  23.2525    23.4975   161405600
           AAPL.Adjusted
2016-02-01      22.13730
2016-02-02      21.68963
2016-02-03      22.11893
2016-02-04      22.29665
2016-02-05      21.70115
2016-02-08      21.92966
2016-02-09      21.92504
2016-02-10      21.75885
2016-02-11      21.62729
2016-02-12      21.69423</code></pre>
</div>
<p>Graficamos las columnas excepto volume</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>apple</span><span class='op'>$</span><span class='va'>AAPL.Volume</span> <span class='op'>&lt;-</span> <span class='cn'>NULL</span> <span class='co'># borramos la columna</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>apple</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="PSeriesTiempo_files/figure-html5/unnamed-chunk-8-1.png" width="624" /></p>
</div>
<p>Gráficamos el maximo, el mínimo</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>apple</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>,<span class='fl'>3</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="PSeriesTiempo_files/figure-html5/unnamed-chunk-9-1.png" width="624" /></p>
</div>
<p>Gráficamos la apertura y el cierre</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>apple</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"AAPL.Open"</span>,<span class='st'>"AAPL.Close"</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="PSeriesTiempo_files/figure-html5/unnamed-chunk-10-1.png" width="624" /></p>
</div>
<p>Se puede graficar el logarirmo de la serie, y graficar</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>apple</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="PSeriesTiempo_files/figure-html5/unnamed-chunk-11-1.png" width="624" /></p>
</div>
<p>Gráficamos la diferencia</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span> <span class='va'>apple</span><span class='op'>[</span>,<span class='fl'>2</span><span class='op'>]</span> <span class='op'>-</span> <span class='va'>apple</span><span class='op'>[</span>,<span class='fl'>3</span><span class='op'>]</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="PSeriesTiempo_files/figure-html5/unnamed-chunk-12-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>apple</span><span class='op'>$</span><span class='va'>dif</span> <span class='op'>&lt;-</span>  <span class='va'>apple</span><span class='op'>[</span>,<span class='fl'>2</span><span class='op'>]</span> <span class='op'>-</span> <span class='va'>apple</span><span class='op'>[</span>,<span class='fl'>3</span><span class='op'>]</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>apple</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>           AAPL.Open AAPL.High AAPL.Low AAPL.Close AAPL.Adjusted
2015-01-02   27.8475   27.8600  26.8375    27.3325      24.67825
2015-01-05   27.0725   27.1625  26.3525    26.5625      23.98303
2015-01-06   26.6350   26.8575  26.1575    26.5650      23.98528
2015-01-07   26.8000   27.0500  26.6750    26.9375      24.32161
2015-01-08   27.3075   28.0375  27.1750    27.9725      25.25610
2015-01-09   28.1675   28.3125  27.5525    28.0025      25.28318
                dif
2015-01-02 1.022501
2015-01-05 0.809999
2015-01-06 0.700001
2015-01-07 0.375000
2015-01-08 0.862501
2015-01-09 0.760000</code></pre>
</div>
<p>Se puede graficar solo una serie</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>apple</span><span class='op'>$</span><span class='va'>AAPL.Adjusted</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="PSeriesTiempo_files/figure-html5/unnamed-chunk-14-1.png" width="624" /></p>
</div>
<p>Un formualario de xts se puede consultar en el siguiente <a
href="http://datacamp-community-prod.s3.amazonaws.com/72771032-0653-4d87-a798-4a83879e9">enlace</a></p>
<div class="act">
<p><strong>Actividad 4</strong></p>
</div>
<h1 id="operaciones-en-st">Operaciones en ST</h1>
<p>Se pueden realizar diferentes operaciones a las series de tiempo</p>
<h2 id="operación-lag">Operación lag</h2>
<p>Tenemos la siguiente ST</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>precios</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>132.45</span>, <span class='fl'>130.85</span>, <span class='fl'>130.00</span>, <span class='fl'>129.55</span>, <span class='fl'>130.85</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># los primeros 5 mediciones de enero</span></span>
<span><span class='va'>fechas</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/zoo/man/yearmon.html'>as.Date</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>  <span class='st'>"2010-01-04"</span>, <span class='st'>"2010-01-05"</span>, <span class='st'>"2010-01-06"</span>,</span>
<span>  <span class='st'>"2010-01-07"</span>, <span class='st'>"2010-01-08"</span></span>
<span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>stp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/xts/man/xts.html'>xts</a></span><span class='op'>(</span><span class='va'>precios</span>, <span class='va'>fechas</span><span class='op'>)</span> <span class='co'># nunca se cargo xts, ¿Qué pasó?</span></span>
<span><span class='va'>stp</span></span></code></pre>
</div>
<pre><code>             [,1]
2010-01-04 132.45
2010-01-05 130.85
2010-01-06 130.00
2010-01-07 129.55
2010-01-08 130.85</code></pre>
</div>
<p>Se pueden realizar traslaciones</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>stp</span><span class='op'>)</span> <span class='co'># stp(t-1)</span></span></code></pre>
</div>
<pre><code>             [,1]
2010-01-04     NA
2010-01-05 132.45
2010-01-06 130.85
2010-01-07 130.00
2010-01-08 129.55</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>stp</span>,<span class='fl'>2</span><span class='op'>)</span> <span class='co'># stp(t-2)</span></span></code></pre>
</div>
<pre><code>             [,1]
2010-01-04     NA
2010-01-05     NA
2010-01-06 132.45
2010-01-07 130.85
2010-01-08 130.00</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>stp</span>,<span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span> <span class='co'># stp(t-(-1))=stp(t+1)</span></span></code></pre>
</div>
<pre><code>             [,1]
2010-01-04 130.85
2010-01-05 130.00
2010-01-06 129.55
2010-01-07 130.85
2010-01-08     NA</code></pre>
</div>
<h2 id="operación-diff">Operación diff</h2>
<p>Tenemos la ST</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>stp</span></span></code></pre>
</div>
<pre><code>             [,1]
2010-01-04 132.45
2010-01-05 130.85
2010-01-06 130.00
2010-01-07 129.55
2010-01-08 130.85</code></pre>
</div>
<p>La operación <em>diff</em> crea la serie <span
class="math inline">\(Y_t\)</span> a partir de la serie <span
class="math inline">\(y_t\)</span> <span
class="math display">\[Y_{t}=y_t-y_{t-1}\]</span></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/diff.html'>diff</a></span><span class='op'>(</span><span class='va'>stp</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>            [,1]
2010-01-04    NA
2010-01-05 -1.60
2010-01-06 -0.85
2010-01-07 -0.45
2010-01-08  1.30</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/diff.html'>diff</a></span><span class='op'>(</span><span class='va'>stp</span>, <span class='fl'>2</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>            [,1]
2010-01-04    NA
2010-01-05    NA
2010-01-06 -2.45
2010-01-07 -1.30
2010-01-08  0.85</code></pre>
</div>
<h2 id="aplicación-de-funciones">Aplicación de funciones</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>lapple.close</span> <span class='op'>&lt;-</span>  <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>apple</span><span class='op'>$</span><span class='va'>AAPL.Close</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>lapple.close</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="PSeriesTiempo_files/figure-html5/unnamed-chunk-22-1.png" width="624" /></p>
</div>
<h2 id="operacion-por-fechas">Operacion por fechas</h2>
<p>Tomamos un año de la serie <em>apple</em></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>ap1</span> <span class='op'>&lt;-</span> <span class='va'>apple</span><span class='op'>$</span><span class='va'>AAPL.Adjusted</span><span class='op'>[</span><span class='st'>"2016"</span><span class='op'>]</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>ap1</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>           AAPL.Adjusted
2016-01-04      24.18504
2016-01-05      23.57899
2016-01-06      23.11755
2016-01-07      22.14189
2016-01-08      22.25897
2016-01-11      22.61938</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>tail</a></span><span class='op'>(</span><span class='va'>ap1</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>           AAPL.Adjusted
2016-12-22      27.29050
2016-12-23      27.34447
2016-12-27      27.51813
2016-12-28      27.40080
2016-12-29      27.39375
2016-12-30      27.18020</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># apply.daily(ap1, mean)</span></span>
<span><span class='co'># apply.weekly(ap1, mean)</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/xts/man/apply.monthly.html'>apply.monthly</a></span><span class='op'>(</span><span class='va'>ap1</span>, <span class='va'>mean</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>           AAPL.Adjusted
2016-01-29      22.59619
2016-02-29      22.08176
2016-03-31      24.06637
2016-04-29      24.63689
2016-05-31      22.03605
2016-06-30      22.43758
2016-07-29      22.88674
2016-08-31      25.12010
2016-09-30      25.88265
2016-10-31      27.01501
2016-11-30      25.83786
2016-12-30      26.83187</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/xts/man/apply.monthly.html'>apply.quarterly</a></span><span class='op'>(</span><span class='va'>ap1</span>, <span class='va'>mean</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>           AAPL.Adjusted
2016-03-31      22.95775
2016-06-30      23.02748
2016-09-30      24.67239
2016-12-30      26.56158</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/xts/man/apply.monthly.html'>apply.yearly</a></span><span class='op'>(</span><span class='va'>ap1</span>, <span class='va'>mean</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>           AAPL.Adjusted
2016-12-30      24.31188</code></pre>
</div>
<div class="act">
<p><strong> Actividad 5</strong></p>
</div>
<div class="act">
<p><strong> Teoría: Ecuaciones en diferencias </strong></p>
</div>
<div class="act">
<p><strong> Actividad 6</strong></p>
</div>
<div class="sourceCode" id="cb33"><pre
class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
<h3 id="references">References</h3>
<div id="references-listing"></div>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
